cutoffs <-
NSgencutoff(base_data, scale = 1, force_zero_center = "none")
NSbasegraph(base_data, cutoffs$x_cutoff, cutoffs$y_cutoff, cutoffs$slope_cutoff)
load_all()
NSbasegraph(base_data, cutoffs$x_cutoff, cutoffs$y_cutoff, cutoffs$slope_cutoff)
load_all()
NSbasegraph(base_data, cutoffs$x_cutoff, cutoffs$y_cutoff, cutoffs$slope_cutoff)
load_all()
NSbasegraph(base_data, cutoffs$x_cutoff, cutoffs$y_cutoff, cutoffs$slope_cutoff)
load_all()
NSbasegraph(base_data, cutoffs$x_cutoff, cutoffs$y_cutoff, cutoffs$slope_cutoff)
load_all()
NSbasegraph(base_data, cutoffs$x_cutoff, cutoffs$y_cutoff, cutoffs$slope_cutoff)
cutoffs <-
NSgencutoff(base_data, scale = 0.5, force_zero_center = "none")
NSbasegraph(base_data, cutoffs$x_cutoff, cutoffs$y_cutoff, cutoffs$slope_cutoff)
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
NSbasegraph(base_data, cutoffs$x_cutoff, cutoffs$y_cutoff, cutoffs$slope_cutoff)
usethis::use_package("ggplot2", min_version = TRUE)
usethis::use_package("ggrepel", min_version = TRUE)
styler:::style_active_file()
usethis::use_r("NineSquares")
class(cutoffs$x_cutoff)
length(cutoffs$x_cutoff)
cutoffs$x_cutoff <- 3
if (class(cutoffs$x_cutoff) != "numeric" &&
length(cutoffs$x_cutoff) != 2) {
stop(
"Argument xcut must be a numerical vector of length two, or empty for default calculation using scale"
)
}
if (class(cutoffs$x_cutoff) != "numeric" |
length(cutoffs$x_cutoff) != 2) {
stop(
"Argument xcut must be a numerical vector of length two, or empty for default calculation using scale"
)
}
cutoffs$x_cutoff <- c(3, "bla")
if (class(cutoffs$x_cutoff) != "numeric" |
length(cutoffs$x_cutoff) != 2) {
stop(
"Argument xcut must be a numerical vector of length two. Leave empty for default calculation using 'scale'"
)
}
stop(
"Argument 'xcut' must be a numerical vector of length two. Leave empty for default calculation using 'scale'")
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
if (class(cutoffs$slope_cutoff) != "numeric" | length(cutoffs$slope_cutoff) != 2) {
stop("Argument 'slopecut' must be a numerical vector of length two. Leave empty for default calculation using 'scale'")
}
document()
load_all()
graph_test %>%
NSaddgoi(data = base_data,
graph = base_graph,
goi_list = c("Gene3062", "Gene405", "Gene1450"),
goi_auto = TRUE)
load_all()
graph_test %>%
NSaddgoi(data = base_data,
graph = base_graph,
goi_list = c("Gene3062", "Gene405", "Gene1450"),
goi_auto = TRUE)
set.seed(42)
data <- data.frame(
gene = paste0("Gene", 1:20000),
num = sample(1:10, 20000, replace = TRUE),
untreated_LFC = stats::rnorm(20000, mean = 0, sd = 3),
treated_LFC = stats::rnorm(20000, mean = 0, sd = 3),
untreated_pval = stats::runif(20000, min = 0, max = 1),
treated_pval = stats::runif(20000, min = 0, max = 1)
)
base_data <-
NSbasedf(data, control = untreated_LFC,
treament = treated_LFC,
ctrl_pval = untreated_pval,
treat_pval = treated_pval,
min_sgrna = 2)
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
graph_test<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
graph_test<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
load_all()
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
load_all()
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
graph_test<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
graph_test %>%
NSaddgoi(data = base_data,
graph = base_graph,
goi_list = c("Gene3062", "Gene405", "Gene1450"),
goi_auto = TRUE)
graph_test %>%
NSaddgoi(data = base_data,
graph = graph_test,
goi_list = c("Gene3062", "Gene405", "Gene1450"),
goi_auto = TRUE)
load_all()
graph_test %>%
NSaddgoi(data = base_data,
graph = graph_test,
goi_list = c("Gene3062", "Gene405", "Gene1450"),
goi_auto = TRUE)
load_all()
graph_test %>%
NSaddgoi(data = base_data,
graph = graph_test,
goi_list = c("Gene3062", "Gene405", "Gene1450"),
goi_auto = TRUE)
rlang::last_trace()
load_all()
graph_test %>%
NSaddgoi(data = base_data,
graph = graph_test,
goi_list = c("Gene3062", "Gene405", "Gene1450"),
goi_auto = TRUE)
graph_test
load_all()
graph_test<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
graph_test
load_all()
graph_test<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
graph_test
load_all()
graph_test<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
graph_test
graph_test %>%
NSaddgoi(data = base_data,
graph = graph_test,
goi_list = c("Gene3062", "Gene405", "Gene1450"),
goi_auto = TRUE)
load_all()
graph_test %>%
NSaddgoi(data = base_data,
graph = graph_test,
goi_list = c("Gene3062", "Gene405", "Gene1450"),
goi_auto = TRUE)
load_all()
graph_test %>%
NSaddgoi(data = base_data,
graph = graph_test,
goi_list = c("Gene3062", "Gene405", "Gene1450"),
goi_auto = TRUE)
View(base_data)
load_all()
base_data <-
NSbasedf(data, control = untreated_LFC,
treament = treated_LFC,
ctrl_pval = untreated_pval,
treat_pval = treated_pval,
min_sgrna = 2)
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
View(base_data)
load_all()
graph_test <-
NSaddtoplabels(graph_test, data = base_data, top_labeled = 10)
graph_test
load_all()
load_all()
graph_test <-
NSaddtoplabels(graph_test, data = base_data, top_labeled = 10)
graph_test <-
NSaddtoplabels(graph_test, data = base_data, top_labeled = 10)
graph_test
graph_test<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
graph_test
graph_test <-
NSaddtoplabels(graph_test, data = base_data, top_labeled = 10)
base_data %>% filter(rank <= 10)
base_data %>% filter(rank < 10)
base_data %>% dplyr::filter(rank < 10)
base_data %>% dplyr::filter(rank <= 10)
load_all()
graph_test
# graph_test <-
NSaddtoplabels(graph_test, data = base_data, top_labeled = 10)
graph_test <-
NSaddtoplabels(graph_test, data = base_data, top_labeled = 5)
graph_test
graph_test %>%
NSaddgoi(data = base_data,
graph = graph_test,
goi_list = c("Gene3062", "Gene405", "Gene1450"),
goi_auto = TRUE)
graph_test %>%
NSaddgoi(data = base_data,
graph = graph_test,
goi_list = c("Gene2994", "Gene405", "Gene1450", "Gene592", "Gene14261"),
goi_auto = TRUE)
?ggrepel::geom_text_repel
load_all()
graph_test %>%
NSaddgoi(data = base_data,
graph = graph_test,
goi_list = c("Gene2994", "Gene405", "Gene1450", "Gene592", "Gene14261"),
goi_auto = TRUE)
load_all()
graph_test<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
# graph_test
graph_test <-
NSaddtoplabels(graph_test, data = base_data, top_labeled = 5)
graph_test
usethis::use_import_from("ggpp", "position_nudge_center")
load_all
load_all()
graph_test<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
graph_test <-
NSaddtoplabels(graph_test, data = base_data, top_labeled = 5)
graph_test
load_all()
rm(graph_test)
base_graph<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
rm(graph_test)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
?position_nudge_center
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5) + expand_limits(x = c(-3, 3))
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5) + ggpp::expand_limits(x = c(-3, 3))
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5) + gglot2p::expand_limits(x = c(-3, 3))
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5) + ggplot2::expand_limits(x = c(-3, 3))
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5) + ggplot2::expand_limits(x = c(-10, 10))
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
data <- data.frame(
gene = paste0("Gene", 1:20000),
num = sample(1:10, 20000, replace = TRUE),
untreated_LFC = stats::rnorm(20000, mean = 0, sd = 3),
treated_LFC = stats::rnorm(20000, mean = 0, sd = 3),
untreated_pval = stats::runif(20000, min = 0, max = 1),
treated_pval = stats::runif(20000, min = 0, max = 1)
)
base_data <-
NSbasedf(data, control = untreated_LFC,
treament = treated_LFC,
ctrl_pval = untreated_pval,
treat_pval = treated_pval,
min_sgrna = 2)
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
base_graph<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
# graph_test
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
set.seed(42)
data <- data.frame(
gene = paste0("Gene", 1:20000),
num = sample(1:10, 20000, replace = TRUE),
untreated_LFC = stats::rnorm(20000, mean = 0, sd = 3),
treated_LFC = stats::rnorm(20000, mean = 0, sd = 3),
untreated_pval = stats::runif(20000, min = 0, max = 1),
treated_pval = stats::runif(20000, min = 0, max = 1)
)
base_data <-
NSbasedf(data, control = untreated_LFC,
treament = treated_LFC,
ctrl_pval = untreated_pval,
treat_pval = treated_pval,
min_sgrna = 2)
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
base_graph<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
# graph_test
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
View(base_data)
load_all()
base_data <-
NSbasedf(data, control = untreated_LFC,
treament = treated_LFC,
ctrl_pval = untreated_pval,
treat_pval = treated_pval,
min_sgrna = 2)
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
base_graph<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
# graph_test
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
base_data <-
NSbasedf(data, control = untreated_LFC,
treament = treated_LFC,
ctrl_pval = untreated_pval,
treat_pval = treated_pval,
min_sgrna = 2)
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
base_graph<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
# graph_test
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
base_data <-
NSbasedf(data, control = untreated_LFC,
treament = treated_LFC,
ctrl_pval = untreated_pval,
treat_pval = treated_pval,
min_sgrna = 2)
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
base_graph<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
# graph_test
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
document()
check()
check()
