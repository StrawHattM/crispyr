library("devtools")
Sys.getenv("R_PROFILE_USER")
file.path(Sys.getenv("HOME"), ".Rprofile")
usethis::edit_r_profile("user")
class("D:/Documents/Biologia/graph.jpg")
if("D:/Documents/Biologia/graph.jpg") {print("it'strue")}
stringr::str_split("sadfasdf.jpg", -3)
stringr::str_extract("sadfasdf.jpg", ".[:alpha:]{n}$")
stringr::str_extract("sadfasdf.jpg", pattern = ".[:alpha:]{n}$")
?stringr::str_extract
stringr::str_extract("sadfasdf.jpg", pattern = "^.*\\.[:alpha:]{3}$")
stringr::str_extract("sadfasdf.jpg", pattern = ".[:alpha:]{3}$")
c(
"center" = "#D3D3D3",
"neutral_slope" = "#D3D3D3",
"bottom_left" = "#004488",
"bottom_center" = "#0077BB",
"bottom_right" = "#33BBEE",
"middle_left" = "#CCAA00",
"middle_right" = "#00AA88",
"top_left" = "#EE7733",
"top_center" = "#CC3377",
"top_right" = "#882255"
)
usethis::use_package("ggnewscale", min_version = TRUE)
load_all()
load_all()
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
set.seed(42)
data <- data.frame(
gene = paste0("Gene", 1:5000),
num = sample(1:10, 5000, replace = TRUE),
untreated_LFC = stats::rnorm(5000, mean = 0, sd = 3),
treated_LFC = stats::rnorm(5000, mean = 0, sd = 3),
untreated_pval = stats::runif(5000, min = 0, max = 1),
treated_pval = stats::runif(5000, min = 0, max = 1)
)
base_data <-
NSbasedf(data, control = untreated_LFC,
treament = treated_LFC,
ctrl_pval = untreated_pval,
treat_pval = treated_pval,
min_sgrna = 2)
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21)
load_all()
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21)
load_all()
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21)
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
load_all()
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
load_all()
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 1.5,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
data <- data.frame(
gene = paste0("Gene", 1:20000),
num = sample(1:10, 20000, replace = TRUE),
untreated_LFC = stats::rnorm(20000, mean = 0, sd = 3),
treated_LFC = stats::rnorm(20000, mean = 0, sd = 3),
untreated_pval = stats::runif(20000, min = 0, max = 1),
treated_pval = stats::runif(20000, min = 0, max = 1)
)
base_data <-
NSbasedf(data, control = untreated_LFC,
treament = treated_LFC,
ctrl_pval = untreated_pval,
treat_pval = treated_pval,
min_sgrna = 2)
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 1.5,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
??desc
?abs
graph_test<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(graph_test, id == c("Gene3062")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
color = "black",
# size = goi_label_size
),
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id == c("Gene3062")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
color = "black",
# size = goi_label_size
),
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id == c("Gene3062")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
color = "black",
alpha = 1,
# size = goi_label_size
),
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggnewscale::new_scale_color()+
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id == c("Gene3062")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
color = "black",
# size = goi_label_size
),
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggnewscale::new_scale_color()+
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id == c("Gene3062")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
colour = "black",
# size = goi_label_size
),
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id == c("Gene3062")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
colour = "black",
# size = goi_label_size
),
color = "black"
inherit.aes = FALSE,
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id == c("Gene3062")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
colour = "black",
# size = goi_label_size
),
color = "black",
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id == c("Gene3062", "Gene405", "Gene1450")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
colour = "black",
size = goi_label_size
),
color = "black",
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id  %in% c("Gene3062", "Gene405", "Gene1450")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
colour = "black",
size = goi_label_size
),
color = "black",
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id  %in% c("Gene3062", "Gene405", "Gene1450")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
colour = "black",
# size = goi_label_size
),
color = "black",
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id  %in% c("Gene3062", "Gene405", "Gene1450")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
colour = "black",
# size = goi_label_size
),
# color = "black",
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id  %in% c("Gene3062", "Gene405", "Gene1450")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
fill = "black",
# size = goi_label_size
),
# color = "black",
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id  %in% c("Gene3062", "Gene405", "Gene1450")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
colour = "black",
# size = goi_label_size
),
# color = "black",
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id  %in% c("Gene3062", "Gene405", "Gene1450")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
colour = "black",
size = 5
),
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id  %in% c("Gene3062", "Gene405", "Gene1450")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
colour = "black",
size = 2
),
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id  %in% c("Gene3062", "Gene405", "Gene1450")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id,
colour = "black",
size = 1
),
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id  %in% c("Gene3062", "Gene405", "Gene1450")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id),
colour = "black",
size = 1,
inherit.aes = FALSE,
max.overlaps = Inf
)
load_all()
document()
document()
check()
usethis::use_package("readr", min_version = TRUE)
usethis::use_package("stringr", min_version = TRUE)
use_mit_license()
source("~/crispyr/R/NineSquares_helpers.R", echo = TRUE)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id  %in% c("Gene3062", "Gene405", "Gene1450")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id),
colour = "black",
size = 2,
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id  %in% c("Gene3062", "Gene405", "Gene1450")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id),
colour = "black",
size = 5,
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id  %in% c("Gene3062", "Gene405", "Gene1450")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id),
colour = "black",
size = 4,
inherit.aes = FALSE,
max.overlaps = Inf
)
graph_test +
ggrepel::geom_text_repel(
data = dplyr::filter(base_data, id  %in% c("Gene3062", "Gene405", "Gene1450")),
mapping = ggplot2::aes(x = control,
y = treatment,
label = id),
colour = "black",
size = 3.5,
inherit.aes = FALSE,
max.overlaps = Inf
)
document()
check()
check()
install()
