# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
View(base_data)
load_all()
base_data <-
NSbasedf(data, control = untreated_LFC,
treament = treated_LFC,
ctrl_pval = untreated_pval,
treat_pval = treated_pval,
min_sgrna = 2)
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
base_graph<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
# graph_test
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
base_data <-
NSbasedf(data, control = untreated_LFC,
treament = treated_LFC,
ctrl_pval = untreated_pval,
treat_pval = treated_pval,
min_sgrna = 2)
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
base_graph<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
# graph_test
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
base_data <-
NSbasedf(data, control = untreated_LFC,
treament = treated_LFC,
ctrl_pval = untreated_pval,
treat_pval = treated_pval,
min_sgrna = 2)
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
base_graph<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
# graph_test
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
load_all()
# base_graph_toplabels <-
NSaddtoplabels(base_graph, data = base_data, top_labeled = 5)
document()
check()
check()
set.seed(42)
data <- data.frame(
gene = paste0("Gene", 1:20000),
num = sample(1:10, 20000, replace = TRUE),
untreated_LFC = stats::rnorm(20000, mean = 0, sd = 3),
treated_LFC = stats::rnorm(20000, mean = 0, sd = 3),
untreated_pval = stats::runif(20000, min = 0, max = 1),
treated_pval = stats::runif(20000, min = 0, max = 1)
)
base_data <-
NSbasedf(data, control = untreated_LFC,
treament = treated_LFC,
ctrl_pval = untreated_pval,
treat_pval = treated_pval,
min_sgrna = 2)
load_all
load_all()
set.seed(42)
data <- data.frame(
gene = paste0("Gene", 1:20000),
num = sample(1:10, 20000, replace = TRUE),
untreated_LFC = stats::rnorm(20000, mean = 0, sd = 3),
treated_LFC = stats::rnorm(20000, mean = 0, sd = 3),
untreated_pval = stats::runif(20000, min = 0, max = 1),
treated_pval = stats::runif(20000, min = 0, max = 1)
)
base_data <-
NSbasedf(data, control = untreated_LFC,
treament = treated_LFC,
ctrl_pval = untreated_pval,
treat_pval = treated_pval,
min_sgrna = 2)
cutoffs <-
NSgencutoff(base_data, scale = 2, force_zero_center = "none")
base_data <-
NSsquares(base_data,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
base_graph<-
NSbasegraph(data = base_data,
alpha = 0.4,
shape = 21,
size = 2,
x_cutoff = cutoffs$x_cutoff,
y_cutoff = cutoffs$y_cutoff,
slope_cutoff = cutoffs$slope_cutoff)
load_all()
NineSquares(data,
untreated_LFC,
treated_LFC,
untreated_pval,
treated_pval)
load_all()
NineSquares(data,
untreated_LFC,
treated_LFC,
untreated_pval,
treated_pval)
NineSquares(data,
untreated_LFC,
treated_LFC,
untreated_pval,
treated_pval,
min_pval = 0.25)
load_all()
NineSquares(data,
untreated_LFC,
treated_LFC,
untreated_pval,
treated_pval,
min_pval = 0.25,
goi = c("Gene2994", "Gene405", "Gene1450", "Gene592", "Gene14261"))
load_all()
NineSquares(data,
untreated_LFC,
treated_LFC,
untreated_pval,
treated_pval,
# min_pval = 0.25,
goi = c("Gene2994", "Gene405", "Gene1450", "Gene592", "Gene14261"))
NineSquares(data,
untreated_LFC,
treated_LFC,
untreated_pval,
treated_pval,
# min_pval = 0.25,
scale = 1.75,
shape = 15,
top_labeled = 10,
xlab = "Stupidly Awesome",
ylab = "Awesomely Stupid",
lenged = TRUE,
filename = "testing_whynot.pou",
groups_labeled = c("top_center", "bottom_center"),
goi = c("Gene2994", "Gene405", "Gene1450", "Gene592", "Gene14261"))
NineSquares(data,
untreated_LFC,
treated_LFC,
untreated_pval,
treated_pval,
# min_pval = 0.25,
scale = 1.75,
shape = 15,
top_labeled = 10,
xlab = "Stupidly Awesome",
ylab = "Awesomely Stupid",
legend = TRUE,
filename = "testing_whynot.pou",
groups_labeled = c("top_center", "bottom_center"),
goi = c("Gene2994", "Gene405", "Gene1450", "Gene592", "Gene14261"))
stringr::str_detect("filename.jpg", pattern = ".[:alpha:]{3}$")
stringr::str_detect("filename.txt", pattern = ".[:alpha:]{3}$")
stringr::str_detect("filename34252345", pattern = ".[:alpha:]{3}$")
stringr::str_detect("filename", pattern = ".[:alpha:]{3}$")
stringr::str_detect("filename", pattern = "\\.[:alpha:]{3}$")
stringr::str_detect("filename.pg", pattern = "\\.[:alpha:]{3}$")
stringr::str_detect("filename.jpg", pattern = "\\.[:alpha:]{3}$")
load_all()
NineSquares(data,
untreated_LFC,
treated_LFC,
untreated_pval,
treated_pval,
# min_pval = 0.25,
scale = 2,
shape = 15,
top_labeled = 10,
xlab = "Stupidly Awesome",
ylab = "Awesomely Stupid",
legend = TRUE,
filename = "testing_whynot.pou",
groups_labeled = c("top_center", "bottom_center"),
goi = c("Gene2994", "Gene405", "Gene1450", "Gene592", "Gene14261"))
NineSquares(data,
untreated_LFC,
treated_LFC,
untreated_pval,
treated_pval,
# min_pval = 0.25,
scale = 2,
shape = 15,
top_labeled = 10,
xlab = "Stupidly Awesome",
ylab = "Awesomely Stupid",
legend = TRUE,
filename = "testing_whynot",
groups_labeled = c("top_center", "bottom_center"),
goi = c("Gene2994", "Gene405", "Gene1450", "Gene592", "Gene14261"))
?ggrepel::geom_text_repel
laod_all()
load_all()
NineSquares(data,
untreated_LFC,
treated_LFC,
untreated_pval,
treated_pval,
# min_pval = 0.25,
scale = 2,
shape = 15,
top_labeled = 10,
xlab = "Stupidly Awesome",
ylab = "Awesomely Stupid",
legend = TRUE,
filename = "testing_whynot",
groups_labeled = c("top_center", "bottom_center"),
goi = c("Gene2994", "Gene405", "Gene1450", "Gene592", "Gene14261"))
check()
document()
check()
check()
check()
usethis::use_r("CountIndex")
usethis::use_r("ImportRRA")
?list.files
??rename_with
?assign
??paste0
paste0(NULL, "trial")
c("rra_d0_try1", "rra_D0_try2", "rra_day0_try3", "rra_Day0_try4", "rra_ay0_try5", "rra_ay0_try6" ) %>% stringr::str_subset(ls(), pattern = "^rra_.*([dD]|[dD]ay)0_.*")
stringr::str_subset(c("rra_d0_try1", "rra_D0_try2", "rra_day0_try3", "rra_Day0_try4", "rra_ay0_try5", "rra_ay0_try6" ), pattern = "^rra_.*([dD]|[dD]ay)0_.*")
stringr::str_subset(c("rra_prefix_d0_try1", "rra_D0_try2", "rra_day0_try3", "rra_Day0_try4", "rra_ay0_try5", "rra_ay0_try6" ), pattern = "^rra_.*([dD]|[dD]ay)0_.*")
stringr::str_replace_all(stringr::str_subset(c("rra_prefix_d0_try1", "rra_D0_try2", "rra_day0_try3", "rra_Day0_try4", "rra_ay0_try5", "rra_ay0_try6" ), pattern = "^rra_.*([dD]|[dD]ay)0_.*"), "^rra_.*([dD]|[dD]ay)0_.", "")
stringr::str_replace_all(stringr::str_subset(c("rra_prefix_d0_try1", "rra_D0_try2", "rra_day0_try3", "rra_Day0_try4", "rra_ay0_try5", "rra_ay0_try6" ), pattern = "^rra_.*([dD]|[dD]ay)0_.*"), "^rra_.*([dD]|[dD]ay)0_", "")
stringr::str_replace_all(stringr::str_subset(c("rra_prefix_d0_try1", "rra_D0_try2", "rra_day0_try3", "rra_Day0_try4", "rra_ay0_try5", "rra_ay0_try6" ), pattern = "^rra_.*([dD]|[dD]ay)0_.*"), "^rra_.*([dD]|[dD]ay)0_", "") |> paste0("_")
stringr::str_replace_all(stringr::str_subset(c("rra_prefix_d0_try1", "rra_D0_try2", "rra_day0_try3", "rra_Day0_try4", "rra_ay0_try5", "rra_ay0_try6" ), pattern = "^rra_.*([dD]|[dD]ay)0_.*"), "^rra_.*([dD]|[dD]ay)0_", "") |> paste0("_", .)
?seq_along
stringr::str_subset(c("rra_prefix_d0_try1", "rra_D0_try2", "rra_day0_try3", "rra_Day0_try4", "rra_ay0_try5", "rra_ay0_try6" )
)
seq_along(c("rra_prefix_d0_try1", "rra_D0_try2", "rra_day0_try3", "rra_Day0_try4", "rra_ay0_try5", "rra_ay0_try6")
)
?purr::reduce
?purrr::reduce
?mget
?lapply
??c_across
?lapply
check()
usethis::use_import_from("purr", "reduce")
usethis::use_import_from("purrr", "reduce")
usethis::use_import_from("withr", "with_locale")
document()
check()
check()
install()
install()
check()
usethis::use_r("globals")
install()
install()
unload(crispyr)
unload("crispyr")
unload("purr")
unload("purrr")
install()
install()
unload(crispyr)
install()
unload("crispyr")
install()
unload("crispyr")
install()
unload("crispyr")
install()
unload("crispyr")
install()
install()
install()
install()
install()
install()
usethis::use_package("tidyr", min_version = TRUE)
install()
usethis::use_r("ImportMLE")
document()
document()
install()
install()
install()
install()
install()
install()
install()
install()
install()
load_all()
install()
test_data <- readRDS("data/test_data.RDS")
load_all()
NineSquares(test_data,
control = UT_lfc,
treatment = ASTres_lfc,
ctrl_pval = UT_pval,
treat_pval = ASTres_pval,
# min_pval = 0.01,
top_labeled = 10,
xlab = "UT LFC",
ylab = "ASTres LFC",
title = "RRA_byrep: UT vs ASTres")
NineSquares(test_data,
control = UT_lfc,
treatment = ASTres_lfc,
ctrl_pval = UT_pval,
treat_pval = ASTres_pval,
# min_pval = 0.01,
top_labeled = 10,
xlab = "UT LFC",
ylab = "ASTres LFC",
title = "RRA_byrep: UT vs ASTres")
load_all()
NineSquares(test_data,
control = UT_lfc,
treatment = ASTres_lfc,
ctrl_pval = UT_pval,
treat_pval = ASTres_pval,
# min_pval = 0.01,
top_labeled = 10,
xlab = "UT LFC",
ylab = "ASTres LFC",
title = "RRA_byrep: UT vs ASTres")
View(test_data)
View(test_data %>% dplyr::filter(., square == "top_center")))
View(test_data %>% dplyr::filter(., square == "top_center"))
View(dplyr::filter(test_data, square == "top_center"))
dplyr::filter(test_data, square == "top_center")
dplyr::filter(test_data, .data$square == "top_center")
dplyr::filter(test_data, test_data$square == "top_center")
library(tidyverse)
dplyr::filter(test_data, test_data$square == "top_center")
dplyr::filter(test_data, square == "top_center")
unload("tidyverse")
dettach("tidyverse")
detach("tidyverse")
load_all()
NineSquares(test_data,
control = UT_lfc,
treatment = ASTres_lfc,
ctrl_pval = UT_pval,
treat_pval = ASTres_pval,
# min_pval = 0.01,
top_labeled = 10,
xlab = "UT LFC",
ylab = "ASTres LFC",
title = "RRA_byrep: UT vs ASTres")
document()
usethis::use_import_from("ggpp", "position_nudge_center")
document()
cor(test_data$UT_lfc, test_data$ASTres_lfc)
cor.test(test_data$UT_lfc, test_data$ASTres_lfc)
test_data %>% ggplot(aes(x = UT_lfc, y = ASTres_lfc)) +
geom_point(alpha = 0.2) +
geom_smooth()
test_data %>% ggplot(aes(x = UT_lfc, y = ASTres_lfc)) +
geom_point(alpha = 0.2) +
geom_smooth(method = "lm")
test_graph<-
NineSquares(test_data,
control = UT_lfc,
treatment = ASTres_lfc,
ctrl_pval = UT_pval,
treat_pval = ASTres_pval,
# min_pval = 0.01,
top_labeled = 10,
xlab = "UT LFC",
ylab = "ASTres LFC",
title = "RRA_byrep: UT vs ASTres")
test_graph + geom_smooth(method="lm")
test_graph<-
NineSquares(test_data,
control = UT_lfc,
treatment = ASTres_lfc,
ctrl_pval = UT_pval,
treat_pval = ASTres_pval,
# min_pval = 0.01,
groups_labeled = c("top_center", "bottom_center", "middle_right", "middle_left", "bottom_left"),
top_labeled = 10,
xlab = "UT LFC",
ylab = "ASTres LFC",
title = "RRA_byrep: UT vs ASTres")
test_graph
# test_graph<-
NineSquares(test_data,
control = UT_lfc,
treatment = ASTres_lfc,
ctrl_pval = UT_pval,
treat_pval = ASTres_pval,
# min_pval = 0.01,
groups_labeled = c("top_center", "bottom_center", "middle_right", "middle_left", "bottom_left"),
top_labeled = 20,
xlab = "UT LFC",
ylab = "ASTres LFC",
title = "RRA_byrep: UT vs ASTres")
# test_graph<-
NineSquares(test_data,
control = UT_lfc,
treatment = ASTres_lfc,
ctrl_pval = UT_pval,
treat_pval = ASTres_pval,
# min_pval = 0.01,
groups_labeled = c("top_center", "bottom_center", "middle_right", "middle_left", "bottom_left"),
top_labeled = 10,
xlab = "UT LFC",
ylab = "ASTres LFC",
title = "RRA_byrep: UT vs ASTres",
goi = c("Abraxas1", "Ulk1", "Bard1", "Kat2b", "Pcaf", "Oasl1", "Oasl2"))
# test_graph<-
NineSquares(test_data,
control = UT_lfc,
treatment = ASTres_lfc,
ctrl_pval = UT_pval,
treat_pval = ASTres_pval,
# min_pval = 0.01,
groups_labeled = c("top_center", "bottom_center", "middle_right", "middle_left", "bottom_left"),
top_labeled = 10,
xlab = "UT LFC",
ylab = "ASTres LFC",
title = "RRA_byrep: UT vs ASTres",
goi = c("Abraxas1", "Ulk1", "Bard1", "Kat2b", "Pcaf", "Oasl1", "Oasl2", "Vcp", "Nploc4"))
# test_graph<-
NineSquares(test_data,
control = UT_lfc,
treatment = ASTres_lfc,
ctrl_pval = UT_pval,
treat_pval = ASTres_pval,
# min_pval = 0.01,
groups_labeled = c("top_center", "bottom_center", "middle_right", "middle_left", "bottom_left"),
top_labeled = 10,
xlab = "UT LFC",
ylab = "ASTres LFC",
title = "RRA_byrep: UT vs ASTres",
goi = c("Ufd1", "Vcp", "Nploc4", "Rigi", "Rnf125"))
# test_graph<-
NineSquares(test_data,
control = UT_lfc,
treatment = ASTres_lfc,
ctrl_pval = UT_pval,
treat_pval = ASTres_pval,
# min_pval = 0.01,
groups_labeled = c("top_center", "bottom_center", "middle_right", "middle_left", "bottom_left"),
top_labeled = 10,
xlab = "UT LFC",
ylab = "ASTres LFC",
title = "RRA_byrep: UT vs ASTres",
goi = c("Ufd1", "Vcp", "Nploc4", "Rigi", "Rnf125", "Ddx58", "Isg15"))
install()
?assign
stringr::str_replace(c("RRA_dz", "rra_dz", "rRa_dz", "alchemy_dzenting"), "(?<=(rra|RRA))_dz", "")
document()
document()
check()
test_data <- readRDS("data/test_data.RDS")
check()
document()
check()
test_data <- readRDS("D:/Bibliotecas/Biologia/Experimentos/ALISERTIB_screen/Analysis/test_data.RDS")
rm(test_data)
test_data <- readRDS("D:/Bibliotecas/Biologia/Experimentos/ALISERTIB_screen/Analysis/test_data.RDS")
check()
document()
?purrr::set_names
check()
check()
